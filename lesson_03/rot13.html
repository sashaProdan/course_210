<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Rot13 Cipher</title>
  </head>
  <body>
  <script>
    // lowercase letters encodings range 97 - 122
    // uppercase letters encodings range 65 - 90

    function isLetter(str) {
      asciiNumeric = str.charCodeAt(0);

      if ((asciiNumeric > 64 && asciiNumeric < 91) || (asciiNumeric > 96 && asciiNumeric < 123)) {
        return true;
      }

      return false;
    }

    function isLowercase(str) {
      asciiNumeric = str.charCodeAt(0);

      if (asciiNumeric > 96 && asciiNumeric < 123) {
        return true;
      }

      return false;
    }

    function rot13(string) {
      var newString = '';
      var start;
      var cipherCharCode;

      for (var i = 0; i < string.length; i++) {
        if (isLetter(string[i])) {
          cipherCharCode = string.charCodeAt(i);

          if (isLowercase(string[i]) && cipherCharCode > 109) {
            start = 13 - (122 - cipherCharCode);
            cipherCharCode = 97 + (start - 1);
          } else if (!lowercase(string[i]) && cipherCharCode > 77) {
            start = 13 - (90 - cipherCharCode);
            cipherCharCode = 65 + (start - 1);
          } else {
            cipherCharCode += 13;
          }
          
          newString += String.fromCharCode(cipherCharCode);

        } else {
          newString += string[i];
        }
      }

      return newString;
    }

    console.log(rot13('Teachers open the door, but you must enter by yourself.'));

    console.log(rot13(rot13('Teachers open the door, but you must enter by yourself.')));
  </script>
  </body>
</html>